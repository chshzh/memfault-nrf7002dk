# MQTT Client loopback overlay configuration
# Use this overlay to enable MQTT client with TLS encryption and message loopback
# (publishes messages and subscribes to the same topic to receive them back)

# Enable MQTT client feature
CONFIG_MQTT_CLIENT_ENABLED=y
CONFIG_MQTT_CLIENT_BROKER_HOSTNAME="test.mosquitto.org"
CONFIG_MQTT_CLIENT_PUBLISH_TOPIC="Count"
CONFIG_MQTT_CLIENT_PUBLISH_INTERVAL_SEC=300

# MQTT client logging
CONFIG_MQTT_CLIENT_LOG_LEVEL_INF=y

# MQTT Helper library
CONFIG_MQTT_HELPER=y
CONFIG_MQTT_CLEAN_SESSION=y

# TLS for MQTT
CONFIG_MQTT_LIB_TLS=y
CONFIG_MQTT_HELPER_PORT=8883
CONFIG_MQTT_KEEPALIVE=30

# Certificate provisioning - mqtt_helper will auto-provision from cert folder
CONFIG_MQTT_HELPER_SEC_TAG=955
CONFIG_MQTT_HELPER_PROVISION_CERTIFICATES=y
CONFIG_MQTT_HELPER_CERTIFICATES_FOLDER="cert"
